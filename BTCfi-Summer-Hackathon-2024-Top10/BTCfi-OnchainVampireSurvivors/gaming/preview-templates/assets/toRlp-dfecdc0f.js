import{bF as g,bG as o,bH as u,B as r}from"./index-0c28943e.js";function c(n,e="hex"){const h=f(n),i=g(new Uint8Array(h.length));return h.encode(i),e==="hex"?o(i.bytes):i.bytes}function f(n){return Array.isArray(n)?p(n.map(e=>f(e))):a(n)}function p(n){const e=n.reduce((t,s)=>t+s.length,0),h=l(e);return{length:(()=>e<=55?1+e:1+h+e)(),encode(t){e<=55?t.pushByte(192+e):(t.pushByte(192+55+h),h===1?t.pushUint8(e):h===2?t.pushUint16(e):h===3?t.pushUint24(e):t.pushUint32(e));for(const{encode:s}of n)s(t)}}}function a(n){const e=typeof n=="string"?u(n):n,h=l(e.length);return{length:(()=>e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+h+e.length)(),encode(t){e.length===1&&e[0]<128?t.pushBytes(e):e.length<=55?(t.pushByte(128+e.length),t.pushBytes(e)):(t.pushByte(128+55+h),h===1?t.pushUint8(e.length):h===2?t.pushUint16(e.length):h===3?t.pushUint24(e.length):t.pushUint32(e.length),t.pushBytes(e))}}}function l(n){if(n<2**8)return 1;if(n<2**16)return 2;if(n<2**24)return 3;if(n<2**32)return 4;throw new r("Length is too large.")}export{c as t};
